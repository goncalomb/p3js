<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link rel="shortcut icon" href="static/favicon.ico">
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/bootswatch/3.3.6/flatly/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/fontawesome/4.5.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/codemirror/4.5.0/codemirror.css">
		<link rel="stylesheet" type="text/css" href="static/css/main.css">
		<link rel="stylesheet" type="text/css" href="static/css/draggable.css">
		<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/2.2.0/jquery.min.js"></script>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery.ui/1.11.4/jquery-ui.min.js"></script>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/g/codemirror@4.5.0(codemirror.min.js+addon/display/rulers.js)"></script>
		<script type="text/javascript" src="static/js/p3js-bundle.js"></script>
		<script type="text/javascript" src="static/js/p3js-web-bundle.js"></script>
		<title>P3 CPU Assembler and Simulator</title>
	</head>
	<body class="container-fluid">
		<header class="row">
			<h1>P3 CPU Assembler and Simulator</h1>
			<p>A JavaScript assembler and simulator for the P3 educational CPU. <a href="#about">More Information</a>.</p>
		</header>
		<ul class="nav nav-tabs" style="margin-bottom: 20px;">
			<li><a href="#assembler"><i class="fa fa-code"></i> Assembler</a></li>
			<li><a href="#program"><i class="fa fa-area-chart"></i> Program</a></li>
			<li><a href="#simulator"><i class="fa fa-cogs"></i> Simulator</a></li>
			<li><a href="#io"><i class="fa fa-laptop"></i> Input/Output</a></li>
			<li><a href="#about"><i class="fa fa-question-circle"></i> About P3JS</a></li>
			<li class="pull-right"><a id="fullscr" href="#"><i class="fa fa-arrows-alt"></i> Fullscreen Mode</a></li>
		</ul>
		<div class="row tab-page tab-page-assembler">
			<div class="col-md-9">
				<div id="code-wrapper">
					<textarea id="code"></textarea>
				</div>
			</div>
			<div class="col-md-3">
				<div class="form-group">
					<label for="load-demo">Load Demo:</label>
					<select id="load-demo" class="form-control"></select>
				</div>
				<button id="assemble" class="btn btn-primary btn-sm btn-block">Assemble</button>
				<button id="assemble-run" class="btn btn-primary btn-sm btn-block">Assemble and Run</button>
				<button id="assemble-dl" class="btn btn-primary btn-sm btn-block">Assemble and Download</button>
				<textarea id="output" style="margin-top: 20px; height: 200px;" readonly></textarea>
			</div>
		</div>
		<div class="row tab-page tab-page-program hidden">
			<div class="col-md-12">
				<h3>Memory Footprint <small id="prog-mem-info"></small></h3>
				<canvas id="prog-memory-footprint"></canvas>
				<h3>Labels / References <small id="prog-label-info"></small></h3>
				<pre id="prog-labels" class="well"></pre>
			</div>
		</div>
		<div class="row tab-page tab-page-simulator hidden">
			<div class="col-md-9">
				<table>
					<tr>
						<td><textarea id="sim-debug-main" rows="20" readonly></textarea></td>
						<td class="hidden"><textarea id="sim-debug-control" rows="20" readonly></textarea></td>
						<td><textarea id="sim-memory" rows="20" readonly></textarea></td>
					</tr>
				</table>
			</div>
			<div class="col-md-3">
				<pre id="sim-status" class="well well-sm"></pre>
				<button id="sim-start" class="btn btn-primary btn-sm btn-block">Start</button>
				<button id="sim-step-i" class="btn btn-primary btn-sm btn-block">Step</button>
				<button id="sim-step-c" class="btn btn-primary btn-sm btn-block hidden">Step (Clock)</button>
				<button id="sim-reset" class="btn btn-primary btn-sm btn-block">Reset</button>
				<div class="checkbox"><label><input id="sim-show-ctrl" type="checkbox">Show Control Unit</label></div>
				<div class="checkbox"><label><input id="sim-show-io" type="checkbox">Show IO</label></div>
			</div>
		</div>
		<div class="row tab-page tab-page-io hidden">
			<div class="col-md-12">
				<div id="io-board">
					<div id="io-board-lcd"></div>
					<div id="io-board-leds"></div>
					<div id="io-board-7seg"></div>
					<div id="io-board-buttons"></div>
					<div id="io-board-switches"></div>
				</div>
				<div id="io-terminal-wrapper">
					<textarea id="io-terminal" cols="80" rows="24" readonly></textarea>
				</div
				</table>
			</div>
		</div>
		<div class="row tab-page tab-page-about hidden">
			<p>TODO: About P3JS</p>
		</div>
		<footer>
			<hr>
			<p>Made by Gon√ßalo Baltazar | <a href="#about">About P3JS</a> | <a href="http://goncalomb.com" target="_blank">goncalomb.com</a></p>
		</footer>
	</body>
</html>
